# Release Drafter configuration for HabitFlow
# Automatically generates release notes from pull requests
# See: https://github.com/release-drafter/release-drafter

name-template: 'v$RESOLVED_VERSION'
tag-template: 'v$RESOLVED_VERSION'

categories:
  - title: 'ğŸš€ New Features'
    labels:
      - 'feature'
      - 'enhancement'
      - 'new-feature'
  - title: 'ğŸ› Bug Fixes'
    labels:
      - 'fix'
      - 'bugfix'
      - 'bug'
  - title: 'ğŸ”’ Security Updates'
    labels:
      - 'security'
  - title: 'ğŸ“š Documentation'
    labels:
      - 'documentation'
      - 'docs'
  - title: 'ğŸ”§ Maintenance & Dependencies'
    labels:
      - 'dependencies'
      - 'maintenance'
      - 'chore'
  - title: 'âš¡ Performance Improvements'
    labels:
      - 'performance'
      - 'optimization'
  - title: 'ğŸ¨ UI/UX Improvements'
    labels:
      - 'ui'
      - 'ux'
      - 'design'
      - 'frontend'
  - title: 'ğŸ—ï¸ Infrastructure & DevOps'
    labels:
      - 'infrastructure'
      - 'devops'
      - 'ci/cd'
      - 'docker'
      - 'deployment'

change-template: '- $TITLE @$AUTHOR (#$NUMBER)'
change-title-escapes: '\<*_&' # You can add # and @ to disable mentions, and add ` to disable code blocks.

version-resolver:
  major:
    labels:
      - 'major'
      - 'breaking-change'
  minor:
    labels:
      - 'minor'
      - 'feature'
      - 'enhancement'
      - 'new-feature'
  patch:
    labels:
      - 'patch'
      - 'fix'
      - 'bugfix'
      - 'bug'
      - 'security'
      - 'dependencies'
      - 'maintenance'
      - 'chore'
  default: patch

template: |
  # ğŸ‰ What's Changed in HabitFlow

  ## ğŸ“Š Release Summary
  This release includes $CHANGES changes from $CONTRIBUTORS contributors.

  $CHANGES

  ## ğŸ§ª Testing & Quality Assurance
  - All automated tests are passing âœ…
  - Manual testing completed on supported browsers âœ…
  - Security scan completed âœ…
  - Performance benchmarks within acceptable range âœ…

  ## ğŸ”„ Deployment Notes
  
  ### Database Migrations
  ```bash
  # Run these commands after deployment
  python backend/manage.py migrate
  ```

  ### Environment Variables
  - Check if any new environment variables are required
  - Refer to `.env.example` for the latest configuration

  ### Browser Compatibility
  - Chrome 90+
  - Firefox 88+
  - Safari 14+
  - Edge 90+

  ## ğŸ“‹ Upgrade Instructions

  ### For Docker Users
  ```bash
  docker-compose down
  docker-compose pull
  docker-compose up -d
  ```

  ### For Manual Deployment
  1. Pull the latest code: `git pull origin main`
  2. Update backend dependencies: `cd backend && poetry install`
  3. Update frontend dependencies: `cd frontend && npm install`
  4. Run database migrations: `python backend/manage.py migrate`
  5. Build frontend: `cd frontend && npm run build`
  6. Restart services

  ## ğŸ”— Useful Links
  - [Full Changelog](https://github.com/MSCRAFI/habitflow/compare/$PREVIOUS_TAG...v$RESOLVED_VERSION)
  - [Documentation](https://github.com/MSCRAFI/habitflow/tree/main/docs)
  - [Live Demo](https://habitflow.scrafi.dev)
  - [Known Issues](https://github.com/MSCRAFI/habitflow/issues?q=is%3Aissue+is%3Aopen+label%3A%22known+issue%22)

  ## ğŸ™ Thank You
  Special thanks to all contributors and community members who made this release possible! 
  
  **Connect with us:**
  - ğŸ¦ Twitter: [@mscrafi](https://twitter.com/mscrafi)
  - ğŸ’¼ LinkedIn: [@scrafi](https://linkedin.com/in/scrafi)
  - ğŸ’¬ Discord: [Join Community](https://discord.gg/zDtbnA45mM)

  ---
  
  **Need Help?** 
  - ğŸ“– Check our [documentation](https://github.com/MSCRAFI/habitflow/tree/main/docs)
  - ğŸ› Report bugs in [GitHub Issues](https://github.com/MSCRAFI/habitflow/issues/new?template=bug_report.md)
  - ğŸ’¡ Request features in [GitHub Issues](https://github.com/MSCRAFI/habitflow/issues/new?template=feature_request.md)
  - ğŸ’¬ Join our [Discord community](https://discord.gg/zDtbnA45mM)
  - ğŸ“§ Contact: salman@scrafi.dev

exclude-labels:
  - 'skip-changelog'
  - 'invalid'
  - 'duplicate'
  - 'wontfix'

replacers:
  # Remove conventional commit prefixes
  - search: '/^(feat|fix|docs|style|refactor|test|chore|perf|ci|build)(\(.+\))?: /g'
    replace: ''
  # Convert PR titles to sentence case
  - search: '/^([a-z])/g'
    replace: '$1'

autolabeler:
  - label: 'documentation'
    files:
      - '*.md'
      - 'docs/**/*'
  - label: 'frontend'
    files:
      - 'frontend/**/*'
  - label: 'backend'
    files:
      - 'backend/**/*'
  - label: 'infrastructure'
    files:
      - 'docker-compose*.yml'
      - 'Dockerfile*'
      - 'infrastructure/**/*'
      - '.github/workflows/**/*'
  - label: 'dependencies'
    files:
      - 'package*.json'
      - 'requirements*.txt'
      - 'poetry.lock'
      - 'pyproject.toml'